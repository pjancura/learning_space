<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content=
"text/html; charset=utf-8">
<title>Lesson 6 Application Project</title>

<script type="text/javascript">

    let ciw_on = new Image();
	ciw_on.src = "../Lab6-5/Images/ciw_on.gif";
    
	let ciw1_on = new Image();
	ciw1_on.src = "../Lab6-5/Images/ciw1_on.gif";
	
	let ciw_off = new Image();
	ciw_off.src = "../Lab6-5/Images/ciw_off.gif";

	let ciw1_off = new Image();
	ciw1_off.src = "../Lab6-5/Images/ciw1_off.gif";

    function display_image(selectedImage) {
        
        let basic = document.getElementById("selector")
        let theIndex = basic.selectedIndex;
        var selectionName = basic.options[theIndex].text;
        console.log(selectionName);
        var selection = basic.value;
        console.log(selection);
        console.log(selection.src);
        let bgColor = prompt("What color for the background?");
        
        
        
        let htmlPopulate = "<html><head>";
            htmlPopulate += "<title>" + selectionName + "<" +"/title></head>";
            htmlPopulate += "<body style='background-color:" + bgColor + "'>";
            htmlPopulate += "<img style='display:block;margin:10% auto 0;' src="  +" alt='" + selectionName + "'/" +">";
            htmlPopulate += `<` + `/body></html>`;
        
            const newWindow = open("", selectionName, ("height=" + (selection.naturalHeight + 100) +",width=" + (selection.naturalWidth + 100)+ ",scrollbar=1"));
            newWindow.document.open();
            newWindow.document.write(htmlPopulate);
            switch(selection){
                case "ciw_on":
                    newWindow.document.images[0].src = ciw_on.src;
                    break;
                case "ciw_off":
                    newWindow.document.images[0].src = ciw_off.src;
                    break;
                case "ciw1_on":
                    newWindow.document.images[0].src = ciw1_on.src;
                    break;
                case "ciw1_off":
                    newWindow.document.images[0].src = ciw1_off.src;
                    break;
                default:
                    break;
            }
            
            newWindow.document.close();
        
    }
</script>
</head>
<body>
<h3>CIW JavaScript Specialist</h3>
<hr />
<p>
Select an image:
</p>
<select id="selector" name="images" onchange="display_image()">
    <option value="">Pick a Picture</option>
	<option value="ciw_off" >ciw_off.gif</option>
    <option value="ciw_on" >ciw_on.gif</option>
    <option value="ciw1_off">ciw1_on.gif</option>
    <option value="ciw1_on">ciw1_off.gif</option>
</select>


</body>
</html>
